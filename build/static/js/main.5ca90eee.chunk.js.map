{"version":3,"sources":["components/Modal/Modal.module.css","components/Searchbar/Searchbar.jsx","components/Modal/Modal.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/App/App.jsx","index.js"],"names":["module","exports","styles","form","marginBottom","Searchbar","state","image","handleNameChange","event","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","toast","error","className","this","style","type","name","onChange","placeholder","marginRight","Component","modalRootRef","document","querySelector","Modal","onEscPress","e","code","console","log","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","img","createPortal","backdrop","onClick","modal","src","alt","ImageGalleryItem","articles","map","id","webformatURL","largeImageURL","onClickLargeImageURL","ImageGallery","openModal","largeImage","getImglarge","openModalGallery","closest","getAtribute","App","isLoading","page","handleFormSubmit","prevState","contacts","filter","article","axios","get","then","response","data","hits","catch","finally","prevProps","message","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.5ca90eee.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"Modal_backdrop__1CD8K\",\"modal\":\"Modal_modal__1nm47\"};","import { Component } from 'react';\r\nimport { ImSearch } from 'react-icons/im';\r\nimport { toast } from 'react-toastify';\r\n\r\nconst styles = { form: { marginBottom: 20 } };\r\n\r\nexport default class Searchbar extends Component {\r\n  state = {\r\n    image: '',\r\n  };\r\n\r\n  handleNameChange = event => {\r\n    this.setState({ image: event.currentTarget.value.toLowerCase() });\r\n  };\r\n\r\n  handleSubmit = event => {\r\n    event.preventDefault();\r\n\r\n    if (this.state.image.trim() === '') {\r\n      toast.error('Введите имя картинки.');\r\n      return;\r\n    }\r\n\r\n    this.props.onSubmit(this.state.image);\r\n    this.setState({ image: '' });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className=\"searchbar\">\r\n        <form className=\"form\" onSubmit={this.handleSubmit} style={styles.form}>\r\n          <input\r\n            type=\"text\"\r\n            name=\"image\"\r\n            value={this.state.image}\r\n            onChange={this.handleNameChange}\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n          <button type=\"submit\" className=\"button\">\r\n            <ImSearch style={{ marginRight: 8 }} />\r\n            <span className=\"button-label\">Search</span>\r\n            Найти\r\n          </button>\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n","import { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Modal.module.css';\r\n\r\nconst modalRootRef = document.querySelector('#modal-root');\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.onEscPress);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.onEscPress);\r\n  }\r\n\r\n  onEscPress = e => {\r\n    if (e.code === 'Escape') {\r\n      console.log('Escape');\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = e => {\r\n    if (e.target === e.currentTarget) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { img } = this.props;\r\n\r\n    return createPortal(\r\n      <div className={styles.backdrop} onClick={this.handleBackdropClick}>\r\n        <div className={styles.modal}>\r\n          <img src={img} alt=\"\" />\r\n        </div>\r\n      </div>,\r\n      modalRootRef,\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  img: PropTypes.string.isRequired,\r\n  onClose: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Modal;\r\n","const ImageGalleryItem = ({ articles }) => {\r\n  articles.map(({ id, webformatURL, largeImageURL }) => {\r\n    return (\r\n      <li onClick={() => this.onClickLargeImageURL(id)} key={id}>\r\n        <img src={webformatURL} alt=\"\" />\r\n      </li>\r\n    );\r\n  });\r\n};\r\nexport default ImageGalleryItem;\r\n","import { Component } from 'react';\r\nimport Modal from '../Modal/Modal';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\n\r\nclass ImageGallery extends Component {\r\n  state = {\r\n    openModal: false,\r\n    largeImage: '',\r\n  };\r\n  getImglarge = e => {\r\n    if (e.target === e.currentTarget) {\r\n      return;\r\n    }\r\n    const openModalGallery = e.target.closest('li').getAtribute('largeImage');\r\n    this.setState({ largeImage: openModalGallery });\r\n    this.setState({ openModal: true });\r\n  };\r\n  //const ImageGallery = ({ articles }) => (\r\n  render() {\r\n    return (\r\n      <ul onClick={this.getImglarge}>\r\n        {this.setState.openModal && (\r\n          <Modal largeImage={this.setState.largeImage} />\r\n        )}\r\n        <ImageGalleryItem articles={this.props.articles} />\r\n      </ul>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ImageGallery;\r\n","import { Component } from 'react';\r\nimport Searchbar from '../Searchbar/Searchbar';\r\nimport Modal from '../Modal/Modal';\r\nimport ImageGallery from '../ImageGallery/ImageGallery';\r\n//import articlesApi from '../servises/articlesApi';\r\nimport axios from 'axios';\r\n\r\nclass App extends Component {\r\n  state = {\r\n    articles: [],\r\n    isLoading: false,\r\n    error: null,\r\n    image: 'cat',\r\n\r\n    page: 1,\r\n  };\r\n\r\n  handleFormSubmit = image => {\r\n    this.setState({ image });\r\n    console.log(image);\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.setState({ isLoading: true });\r\n\r\n    axios\r\n      .get(\r\n        `https://pixabay.com/api/?q=${this.state.image}&page=${this.state.page}&key=24480500-399700875c121f80bab96d725&image_type=photo&orientation=horizontal&per_page=12`,\r\n      )\r\n      .then(response => this.setState({ articles: response.data.hits }))\r\n      .catch(error => this.setState({ error }))\r\n      .finally(() => this.setState({ isLoading: false }));\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const { image } = this.state;\r\n    if (prevState.image !== image) {\r\n      this.setState({ isLoading: true });\r\n\r\n      axios\r\n        .get(\r\n          `https://pixabay.com/api/?q=${this.state.image}&page=${this.state.page}&key=24480500-399700875c121f80bab96d725&image_type=photo&orientation=horizontal&per_page=12`,\r\n        )\r\n        .then(response => this.setState({ articles: response.data.hits }))\r\n        .catch(error => this.setState({ error }))\r\n        .finally(() => this.setState({ isLoading: false }));\r\n    }\r\n  }\r\n\r\n  onClickLargeImageURL = id => {\r\n    this.setState({ openModal: true });\r\n    this.setState(prevState => ({\r\n      contacts: prevState.articles.filter(article => article.id === id),\r\n    }));\r\n  };\r\n  render() {\r\n    const { articles, isLoading, error } = this.state;\r\n\r\n    return (\r\n      <>\r\n        <Searchbar onSubmit={this.handleFormSubmit} />\r\n        {this.state.openModal && (\r\n          <Modal img={this.state.articles.largeImageURL} />\r\n        )}\r\n        {error && <p>Whoops, something went wrong: {error.message}</p>}\r\n        {isLoading && <p>Loading...</p>}\r\n        {articles.length > 0 && <ImageGallery articles={articles} />}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './components/App/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}